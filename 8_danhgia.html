<!DOCTYPE html>
<html lang="en">
  <head>
    <title>QUÁN CÀ HÊ - Đánh giá quán</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/custom.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- Header Include -->
    <div data-include="includes/header.html"></div>

    <!-- Header Section -->
    <div class="position-relative">
      <img
        src="img/19.jpg"
        class="d-block w-100 object-fit-cover header-image"
        alt="Quán cà phê"
      />
      <div
        class="position-absolute top-50 start-50 translate-middle text-center text-white"
      >
        <h1 class="display-4 fw-bold">Đánh giá của khách hàng</h1>
        <p class="lead">Chia sẻ trải nghiệm của bạn tại Quán Cà Hê</p>
      </div>
    </div>

    <!-- Overall Rating Section -->
    <div class="container mt-5">
      <div class="row">
        <div class="col-md-4">
          <div class="card text-center">
            <div class="card-body">
              <h2 class="display-1 text-warning fw-bold">4.8</h2>
              <div class="stars mb-3">
                <i class="fas fa-star text-warning fs-3"></i>
                <i class="fas fa-star text-warning fs-3"></i>
                <i class="fas fa-star text-warning fs-3"></i>
                <i class="fas fa-star text-warning fs-3"></i>
                <i class="fas fa-star text-warning fs-3"></i>
              </div>
              <p class="text-muted">Dựa trên 1,247 đánh giá</p>
            </div>
          </div>
        </div>
        <div class="col-md-8">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Thống kê đánh giá</h5>
              <div class="mb-2">
                <div class="d-flex align-items-center">
                  <span class="me-3">5 sao</span>
                  <div class="progress flex-fill me-3">
                    <div
                      class="progress-bar bg-success"
                      role="progressbar"
                      style="width: 70%"
                    ></div>
                  </div>
                  <span>873 (70%)</span>
                </div>
              </div>
              <div class="mb-2">
                <div class="d-flex align-items-center">
                  <span class="me-3">4 sao</span>
                  <div class="progress flex-fill me-3">
                    <div
                      class="progress-bar bg-info"
                      role="progressbar"
                      style="width: 20%"
                    ></div>
                  </div>
                  <span>249 (20%)</span>
                </div>
              </div>
              <div class="mb-2">
                <div class="d-flex align-items-center">
                  <span class="me-3">3 sao</span>
                  <div class="progress flex-fill me-3">
                    <div
                      class="progress-bar bg-warning"
                      role="progressbar"
                      style="width: 7%"
                    ></div>
                  </div>
                  <span>87 (7%)</span>
                </div>
              </div>
              <div class="mb-2">
                <div class="d-flex align-items-center">
                  <span class="me-3">2 sao</span>
                  <div class="progress flex-fill me-3">
                    <div
                      class="progress-bar bg-orange"
                      role="progressbar"
                      style="width: 2%"
                    ></div>
                  </div>
                  <span>25 (2%)</span>
                </div>
              </div>
              <div class="mb-2">
                <div class="d-flex align-items-center">
                  <span class="me-3">1 sao</span>
                  <div class="progress flex-fill me-3">
                    <div
                      class="progress-bar bg-danger"
                      role="progressbar"
                      style="width: 1%"
                    ></div>
                  </div>
                  <span>13 (1%)</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Review Form Section -->
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="card">
            <div class="card-header bg-primary text-white">
              <h4 class="mb-0">
                <i class="fas fa-pen me-2"></i>Viết đánh giá của bạn
              </h4>
            </div>
            <div class="card-body">
              <form id="reviewForm">
                <div class="mb-3">
                  <label for="reviewerName" class="form-label"
                    >Họ và tên:</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="reviewerName"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="reviewerEmail" class="form-label">Email:</label>
                  <input
                    type="email"
                    class="form-control"
                    id="reviewerEmail"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label class="form-label">Đánh giá tổng thể:</label>
                  <div class="rating-input">
                    <input type="radio" id="star5" name="rating" value="5" />
                    <label for="star5" class="star-label">★</label>
                    <input type="radio" id="star4" name="rating" value="4" />
                    <label for="star4" class="star-label">★</label>
                    <input type="radio" id="star3" name="rating" value="3" />
                    <label for="star3" class="star-label">★</label>
                    <input type="radio" id="star2" name="rating" value="2" />
                    <label for="star2" class="star-label">★</label>
                    <input type="radio" id="star1" name="rating" value="1" />
                    <label for="star1" class="star-label">★</label>
                  </div>
                </div>

                <div class="mb-3">
                  <label for="visitDate" class="form-label"
                    >Ngày đến quán:</label
                  >
                  <input
                    type="date"
                    class="form-control"
                    id="visitDate"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="favoriteProduct" class="form-label"
                    >Sản phẩm yêu thích:</label
                  >
                  <select class="form-select" id="favoriteProduct">
                    <option value="">Chọn sản phẩm</option>
                    <option value="americano">Cafe Americano</option>
                    <option value="latte">Cafe Latte</option>
                    <option value="cappuccino">Cappuccino</option>
                    <option value="matcha">Matcha Latte</option>
                    <option value="tra-dao">Trà Đào</option>
                    <option value="tra-buoi">Trà Bưởi</option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="reviewTitle" class="form-label"
                    >Tiêu đề đánh giá:</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="reviewTitle"
                    placeholder="Ví dụ: Quán cà phê tuyệt vời!"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="reviewContent" class="form-label"
                    >Nội dung đánh giá:</label
                  >
                  <textarea
                    class="form-control"
                    id="reviewContent"
                    rows="5"
                    placeholder="Chia sẻ trải nghiệm của bạn tại quán..."
                    required
                  ></textarea>
                </div>

                <div class="mb-3">
                  <label for="reviewPhoto" class="form-label"
                    >Thêm hình ảnh (tùy chọn):</label
                  >
                  <input
                    type="file"
                    class="form-control"
                    id="reviewPhoto"
                    accept="image/*"
                    multiple
                  />
                </div>

                <button type="submit" class="btn btn-primary btn-lg w-100">
                  Gửi đánh giá
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Customer Reviews Section -->
    <div class="container mt-5">
      <div class="row">
        <div class="col-md-3">
          <div class="card">
            <div class="card-body">
              <h6>Lọc đánh giá</h6>
              <div class="mb-3">
                <label for="filterRating" class="form-label"
                  >Theo số sao:</label
                >
                <select class="form-select" id="filterRating">
                  <option value="">Tất cả</option>
                  <option value="5">5 sao</option>
                  <option value="4">4 sao</option>
                  <option value="3">3 sao</option>
                  <option value="2">2 sao</option>
                  <option value="1">1 sao</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="filterProduct" class="form-label"
                  >Theo sản phẩm:</label
                >
                <select class="form-select" id="filterProduct">
                  <option value="">Tất cả</option>
                  <option value="americano">Cafe Americano</option>
                  <option value="latte">Cafe Latte</option>
                  <option value="matcha">Matcha Latte</option>
                  <option value="tra-dao">Trà Đào</option>
                </select>
              </div>
              <button
                class="btn btn-outline-primary w-100"
                onclick="filterReviews()"
              >
                Áp dụng
              </button>
            </div>
          </div>
        </div>

        <div class="col-md-9">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h5>Đánh giá từ khách hàng</h5>
            <div class="dropdown">
              <button
                class="btn btn-outline-secondary dropdown-toggle"
                type="button"
                data-bs-toggle="dropdown"
              >
                Sắp xếp theo
              </button>
              <ul class="dropdown-menu">
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="sortReviews('newest')"
                    >Mới nhất</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="sortReviews('oldest')"
                    >Cũ nhất</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="sortReviews('highest')"
                    >Đánh giá cao nhất</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="sortReviews('lowest')"
                    >Đánh giá thấp nhất</a
                  >
                </li>
              </ul>
            </div>
          </div>

          <div id="reviewsList">
            <!-- Review 1 -->
            <div
              class="card mb-3 review-item"
              data-rating="5"
              data-product="americano"
            >
              <div class="card-body">
                <div class="row">
                  <div class="col-md-2 text-center">
                    <img
                      src="img/20.jpg"
                      class="rounded-circle customer-avatar"
                      alt="Khách hàng"
                    />
                    <h6 class="mt-2">Nguyễn Văn A</h6>
                  </div>
                  <div class="col-md-10">
                    <div
                      class="d-flex justify-content-between align-items-start"
                    >
                      <div>
                        <div class="stars mb-1">
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                        </div>
                        <h6 class="mb-2">Cà phê ngon tuyệt vời!</h6>
                      </div>
                      <small class="text-muted">2 ngày trước</small>
                    </div>
                    <p class="text-muted mb-2">Sản phẩm: Cafe Americano</p>
                    <p>
                      Mình rất thích Americano ở đây. Hương vị cân bằng, không
                      quá đậm cũng không quá nhạt. Không gian quán rất thoải mái
                      và nhân viên phục vụ rất nhiệt tình. Sẽ quay lại!
                    </p>
                    <div class="review-images">
                      <img
                        src="img/new_menu/cafe-americano-da.jpg"
                        class="review-photo me-2"
                        alt="Review photo"
                      />
                      <img
                        src="img/21.jpg"
                        class="review-photo"
                        alt="Review photo"
                      />
                    </div>
                    <div class="mt-3">
                      <button
                        class="btn btn-sm btn-outline-primary me-2"
                        onclick="likeReview(this)"
                      >
                        <i class="far fa-thumbs-up"></i> Hữu ích (12)
                      </button>
                      <button
                        class="btn btn-sm btn-outline-secondary"
                        onclick="replyReview(this)"
                      >
                        <i class="far fa-comment"></i> Trả lời
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Review 2 -->
            <div
              class="card mb-3 review-item"
              data-rating="4"
              data-product="matcha"
            >
              <div class="card-body">
                <div class="row">
                  <div class="col-md-2 text-center">
                    <img
                      src="img/22.jpg"
                      class="rounded-circle customer-avatar"
                      alt="Khách hàng"
                    />
                    <h6 class="mt-2">Trần Thị B</h6>
                  </div>
                  <div class="col-md-10">
                    <div
                      class="d-flex justify-content-between align-items-start"
                    >
                      <div>
                        <div class="stars mb-1">
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                          <i class="far fa-star text-warning"></i>
                        </div>
                        <h6 class="mb-2">Matcha rất ngon!</h6>
                      </div>
                      <small class="text-muted">1 tuần trước</small>
                    </div>
                    <p class="text-muted mb-2">Sản phẩm: Matcha Latte</p>
                    <p>
                      Matcha ở đây có vị rất đậm đà và thơm. Độ ngọt vừa phải.
                      Không gian quán khá đẹp, phù hợp để ngồi làm việc. Chỉ có
                      điều hơi ồn vào giờ cao điểm.
                    </p>
                    <div class="mt-3">
                      <button
                        class="btn btn-sm btn-outline-primary me-2"
                        onclick="likeReview(this)"
                      >
                        <i class="far fa-thumbs-up"></i> Hữu ích (8)
                      </button>
                      <button
                        class="btn btn-sm btn-outline-secondary"
                        onclick="replyReview(this)"
                      >
                        <i class="far fa-comment"></i> Trả lời
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Review 3 -->
            <div
              class="card mb-3 review-item"
              data-rating="5"
              data-product="tra-dao"
            >
              <div class="card-body">
                <div class="row">
                  <div class="col-md-2 text-center">
                    <img
                      src="img/23.jpeg"
                      class="rounded-circle customer-avatar"
                      alt="Khách hàng"
                    />
                    <h6 class="mt-2">Lê Văn C</h6>
                  </div>
                  <div class="col-md-10">
                    <div
                      class="d-flex justify-content-between align-items-start"
                    >
                      <div>
                        <div class="stars mb-1">
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                          <i class="fas fa-star text-warning"></i>
                        </div>
                        <h6 class="mb-2">Trà đào tuyệt vời!</h6>
                      </div>
                      <small class="text-muted">2 tuần trước</small>
                    </div>
                    <p class="text-muted mb-2">Sản phẩm: Trà Đào Cam Sả</p>
                    <p>
                      Trà đào ở đây rất tươi mát, hương vị tự nhiên. Đào tươi,
                      không quá ngọt. Rất thích hợp cho mùa hè. Nhân viên phục
                      vụ rất dễ thương và chu đáo.
                    </p>
                    <div class="review-images">
                      <img
                        src="img/new_menu/tra-dao-cam-sa.png"
                        class="review-photo me-2"
                        alt="Review photo"
                      />
                    </div>
                    <div class="mt-3">
                      <button
                        class="btn btn-sm btn-outline-primary me-2"
                        onclick="likeReview(this)"
                      >
                        <i class="far fa-thumbs-up"></i> Hữu ích (15)
                      </button>
                      <button
                        class="btn btn-sm btn-outline-secondary"
                        onclick="replyReview(this)"
                      >
                        <i class="far fa-comment"></i> Trả lời
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Pagination -->
          <nav aria-label="Review pagination">
            <ul class="pagination justify-content-center">
              <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1">Trước</a>
              </li>
              <li class="page-item active">
                <a class="page-link" href="#">1</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="#">2</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="#">3</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="#">Sau</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>

    <!-- Footer Include -->
    <div data-include="includes/footer.html"></div>

    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
      integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
      crossorigin="anonymous"
    ></script>

    <!-- Include Script -->
    <script src="js/include.js"></script>
    <script>
      // Star rating functionality
      document.addEventListener("DOMContentLoaded", function () {
        const stars = document.querySelectorAll(".star-label");
        const inputs = document.querySelectorAll('input[name="rating"]');

        stars.forEach((star, index) => {
          star.addEventListener("click", function () {
            inputs[index].checked = true;
            updateStarDisplay(index);
          });

          star.addEventListener("mouseover", function () {
            updateStarDisplay(index);
          });
        });

        function updateStarDisplay(selectedIndex) {
          stars.forEach((star, index) => {
            if (index <= selectedIndex) {
              star.style.color = "#ffc107";
            } else {
              star.style.color = "#ddd";
            }
          });
        }

        // Add CSS for star rating
        const style = document.createElement("style");
        style.textContent = `
        .rating-input {
          display: flex;
          flex-direction: row-reverse;
          justify-content: flex-end;
        }
        .rating-input input[type="radio"] {
          display: none;
        }
        .star-label {
          font-size: 2rem;
          color: #ddd;
          cursor: pointer;
          transition: color 0.2s;
        }
        .star-label:hover {
          color: #ffc107;
        }
        .customer-avatar {
          width: 60px;
          height: 60px;
          object-fit: cover;
        }
        .review-photo {
          width: 100px;
          height: 100px;
          object-fit: cover;
          border-radius: 8px;
          cursor: pointer;
        }
        .header-image {
          height: 400px;
        }
      `;
        document.head.appendChild(style);
      });

      // Review form submission
      document
        .getElementById("reviewForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const rating = document.querySelector('input[name="rating"]:checked');
          if (!rating) {
            alert("Vui lòng chọn số sao đánh giá!");
            return;
          }

          alert(
            "Cảm ơn bạn đã gửi đánh giá! Chúng tôi sẽ xem xét và phản hồi sớm nhất."
          );
          this.reset();
        });

      // Like review functionality
      function likeReview(button) {
        const currentText = button.textContent;
        const match = currentText.match(/\((\d+)\)/);
        if (match) {
          const currentLikes = parseInt(match[1]);
          button.innerHTML = `<i class="fas fa-thumbs-up"></i> Hữu ích (${
            currentLikes + 1
          })`;
          button.classList.add("text-primary");
          button.disabled = true;
        }
      }

      // Reply to review
      function replyReview(button) {
        alert("Tính năng trả lời đánh giá sẽ được cập nhật sớm!");
      }

      // Filter reviews
      function filterReviews() {
        const ratingFilter = document.getElementById("filterRating").value;
        const productFilter = document.getElementById("filterProduct").value;
        const reviews = document.querySelectorAll(".review-item");

        reviews.forEach((review) => {
          const rating = review.getAttribute("data-rating");
          const product = review.getAttribute("data-product");

          let showReview = true;

          if (ratingFilter && rating !== ratingFilter) {
            showReview = false;
          }

          if (productFilter && product !== productFilter) {
            showReview = false;
          }

          if (showReview) {
            review.style.display = "block";
          } else {
            review.style.display = "none";
          }
        });
      }

      // Sort reviews
      function sortReviews(type) {
        alert(`Đang sắp xếp theo: ${type}`);
      }
    </script>
  </body>
</html>
